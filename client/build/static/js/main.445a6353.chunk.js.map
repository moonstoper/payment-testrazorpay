{"version":3,"sources":["actions/index.js","functional/loadscript.tsx","components/Checkuser.tsx","components/Page1.tsx","assets/homemini.jpg","logo.svg","functional/PaymentPage.tsx","functional/TransactionUpdate.tsx","components/LoginPage.tsx","App.tsx","reportWebVitals.ts","reducers/payReducer.js","reducers/payStatusReducer.js","reducers/updateTransaction.js","reducers/userInfo.js","reducers/index.js","index.tsx"],"names":["get_payment","orderdetails","dispatch","a","axios","post","res","console","log","type","payload","data","message","payment_handler","user_fetch","loadscript","src","Promise","resolve","script","document","createElement","onload","onerror","body","appendChild","recieptgenerator","req","_id","cd","Date","getTime","concat","username","toString","LoadRazer","alert","Checkuser","useDispatch","history","useHistory","useSelector","state","redx","JSON","parse","stringify","checkduepay","duepayment","receipt","onClick","amount","orderamount","objectid","push","actions","paymentDue","detailsprint","user_info","list","count","transid","entries","total","CardContent","Typography","color","gutterBottom","variant","component","Card","CardActions","Button","password","Page1","useState","chkdate","setchkdate","coutdate","setcoutdate","product_name","checkindate","checkoutdate","useEffect","error","callRazer","advancepay","Alert","severity","user","alt","id","onChange","e","target","value","selectedate","currentdate","moment","format","diffdate","diff","checkin","prepay","href","PaymentPage","payment_status","msg","payment","displaypaymentdetails","options","key","currency","name","description","image","logo","order_id","handler","response","orderCreationId","razorpayPaymentId","razorpay_payment_id","razorpayOrderId","razorpay_order_id","razorpaySignature","razorpay_signature","date","prefill","email","contact","window","Razorpay","open","TransactionUpdate","transaction_data","transaction","LoginPage","setuser","passrd","setpasswrd","obj","userdetails","className","checkuser","onSubmit","submitLogin","InputLabel","htmlFor","App","exact","path","UserPage","Paymentpage","Update_Transaction","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","payReducer","action","payStatusReducer","updateTransaction","userInfo","combineReducers","store","createStore","reducers","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","getElementById","navigator","addEventListener","serviceWorker","register","registration","scope"],"mappings":"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","file":"static/js/main.445a6353.chunk.js","sourcesContent":["//coonect to server side dispatches returned information to gloabal state variables\nimport axios from \"axios\";\nexport const get_payment =(orderdetails) => async(dispatch) =>{   // to create razorpay order\n\n    try {\n        const res = await axios.post(\"http://localhost:5000/activity/payments\",orderdetails);\n        console.log(res);\n        dispatch({type:\"FETCH_ORDER\",payload:res.data})\n    }\n    catch(error){\n        console.log(error.message);\n    }\n}\nexport const payment_handler =(data) => async(dispatch) =>{  // check if payment is successfull\n\n    try {\n        const res = await axios.post(\"http://localhost:5000/activity/payments/success\",data);\n        console.log(res);\n        dispatch({type:\"FETCH_SUCCESS_ORDER\",payload:res.data})\n    }\n    catch(error){\n        console.log(error.message);\n    }\n}\nexport const update_transaction =(transaction_data) => async(dispatch) =>{ //update userprofile and other schemas regarding transaction\n\n    try {\n        console.log(\"axios-->\");\n        const res = await axios.post(\"http://localhost:5000/activity/update/transaction\",transaction_data);\n        console.log(res);\n        dispatch({type:\"UPDATE_TRANSACTION_DOCUMENT\",payload:res.data})\n    }\n    catch(error){\n        console.log(error.message);\n    }\n}\nexport const delete_paymnetdata = () => async(dispatch) =>{ //clear payment data after completion\n    try{\n        console.log(\"deleting.....\")\n        const res = [];\n        console.log(res)\n        dispatch({type:\"UPDATE_TRANSACTION_DOCUMENT\",payload:res.data})\n        dispatch({type:\"FETCH_ORDER\",payload:res.data})\n        dispatch({type:\"FETCH_SUCCESS_ORDER\",payload:res.data})\n\n    }\n    catch(error)\n    {\n        console.log(error.message)\n    }\n}\nexport const user_fetch = (user_fetch) => async(dispatch) =>{  //fetching user info\n    try {console.log(\"axios-->\")\n        const res = await axios.post(\"http://localhost:5000/user/login\",user_fetch);\n        dispatch({type:\"USER_INFO\",payload:res.data})\n        console.log(\"dispatched\");\n    } catch (error) {\n        console.log(error.message)\n    }\n}\n\n","// functional folders conatins resusable or large functions and pages whose main purpose is to clean the cluuter from main components \r\nimport moment from \"moment\";\r\n\r\nexport default function loadscript(src: any) { //loads the payment script in background\r\n  return new Promise((resolve) => {\r\n    const script = document.createElement(\"script\");\r\n    script.src = src;\r\n    script.onload = () => {\r\n      resolve(true);\r\n    };\r\n    script.onerror = () => {\r\n      resolve(false);\r\n    };\r\n    document.body.appendChild(script);\r\n  });\r\n}\r\n\r\nexport const checkin = (selectedate: any) => { //checking the date if user has the option to pay 30% upfront\r\n  const currentdate = moment().format(\"YYYY-MM-DD\");\r\n  const sdate = moment(selectedate);\r\n  const diffdate = sdate.diff(currentdate, \"days\");\r\n  console.log(diffdate);\r\n  if (diffdate > 7) {\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n\r\n\r\nexport const recieptgenerator = (req:any) =>{ //generate receipt for each payment\r\n  console.log(req._id)\r\n  const cd = new Date().getTime()\r\n  console.log(cd)\r\n  return \"\".concat(\"INV_\",req.username,cd.toString()) //using username and current time\r\n}\r\n\r\nexport const LoadRazer = async ()=>{\r\n  const construct = await loadscript(\r\n    \"https://checkout.razorpay.com/v1/checkout.js\"\r\n  );\r\n  if (!construct) {\r\n    alert(\"Razorpay sdk didn't load\");\r\n    return false;\r\n  } else {\r\n    alert(\"loaded\");\r\n    return true\r\n  }\r\n  \r\n}","import {\r\n  Button,\r\n  Card,\r\n  CircularProgress,\r\n  CardActions,\r\n  Typography,\r\n  CardContent,\r\n} from \"@material-ui/core\";\r\nimport Axios from \"axios\";\r\nimport React, { useEffect } from \"react\";\r\nimport { RootStateOrAny, useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router\";\r\nimport * as actions from \"../actions\";\r\nimport {LoadRazer,recieptgenerator} from \"../functional/loadscript\"\r\nconst Checkuser: React.FC = () => {\r\n  const dispatch = useDispatch();\r\n  const history =useHistory()\r\n  const res = useSelector((state:RootStateOrAny) => state);\r\n  console.log(res)\r\n  const redx = JSON.parse(JSON.stringify(res));\r\n  const paymentDue = (amount:number,_id:any,receipt:any) =>{\r\n    // display user informations, bills\r\n   const orderdetails ={  /// created order object for pending paymnet\r\n      orderamount : amount,\r\n      receipt :receipt,\r\n      objectid : _id,\r\n      duepayment : 0,\r\n\r\n    }\r\n    if(LoadRazer())//loading paymnet api\r\n    if (res === null) {\r\n      console.log(\"heee\");\r\n      history.push(\"/login\");\r\n      console.log(\"not pushed\");\r\n    } else {\r\n      if(orderdetails.receipt === \"\")\r\n      {\r\n        orderdetails.receipt = recieptgenerator(res);\r\n        console.log(orderdetails)\r\n      }\r\n      dispatch(actions.get_payment(orderdetails));\r\n      console.log(\"here\");\r\n      history.push(\"/payment_page\");\r\n    }\r\n    console.log(amount,_id)\r\n  }\r\n  const checkduepay = (duepayment:any,_id:any,receipt:any) =>{ //check if a payment is due \r\n    if(duepayment === 0)\r\n    {\r\n      return (<div>NO Due Remaining</div>)\r\n    }\r\n    else{ // create a button calling to paymentDue to initiate payment\r\n      return <button onClick={()=>paymentDue(duepayment,_id,receipt)}>Pay RS.{duepayment}</button>\r\n    }\r\n  }\r\n \r\n  function userdetails() {\r\n  \r\n    if(redx.user_info!==null)\r\n  {dispatch(actions.user_fetch({username:redx.user_info.username,password:redx.user_info.password}));\r\n  detailsprint()}else{\r\n    history.push(\"/login\")\r\n  }\r\n  }\r\n  function detailsprint() { // function for printing the order lists and other details\r\n    console.log(redx)\r\n    if (redx.user_info !== null) {\r\n      // console.log(redx)\r\n      const list = [];\r\n      list.push(<li key=\"start\"><b>Receipt&nbsp;Total&nbsp;DuePayment</b></li>)\r\n      let count = 0;\r\n      for (const [i, {_id,receipt,total,duepayment}] of redx.user_info.transid.entries()) { // create a list of orders\r\n        if (count !== 5) {\r\n          list.push(<li key={_id}>{receipt}&nbsp;RS.{total}&nbsp;{checkduepay(duepayment,_id,receipt)}</li>);\r\n          count += 1;\r\n        } else break;\r\n      }\r\n      return ( // returning th content along with format for rendering\r\n        <span>\r\n          <CardContent>\r\n            <Typography color=\"textSecondary\" gutterBottom>\r\n              User Details\r\n            </Typography>\r\n            <Typography variant=\"h5\" component=\"h2\">\r\n              Username :{redx.user_info.username}\r\n            </Typography>\r\n            <Typography variant=\"body2\" component=\"p\">\r\n              <br />\r\n              {/* {redx.user_info.transid[0]}{console.log(list)} */}\r\n              {list}\r\n            </Typography>\r\n          </CardContent>\r\n        </span>\r\n      );\r\n    } else {\r\n     \r\n      return <div> login to display data</div>;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {console.log(\"checkuser\")}\r\n      <Card>\r\n        {detailsprint()}\r\n        <CardActions>\r\n          <Button variant=\"contained\" color=\"secondary\" onClick={userdetails}>\r\n            Check / Click to refresh after payment\r\n          </Button>\r\n        </CardActions>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\nexport default Checkuser;\r\n","import React, { useEffect, useState } from \"react\";\nimport * as actions from \"../actions/\";\nimport { RootStateOrAny, useDispatch, useSelector } from \"react-redux\";\nimport { Button } from \"@material-ui/core\";\nimport loadscript, {\n  checkin,\n  recieptgenerator,\n  LoadRazer,\n} from \"../functional/loadscript\";\nimport { useHistory } from \"react-router-dom\";\nimport { Alert } from \"@material-ui/lab\";\nimport homemini from \"../assets/homemini.jpg\";\nimport Checkuser from \"./Checkuser\";\nconst Page1: React.FC = () => { // the front page or the paymnet page after which the payment process begins\n  const res = useSelector((state: RootStateOrAny) => state.user_info);\n  const [chkdate, setchkdate] = useState(\"\"); // getting checkin date\n  const [coutdate, setcoutdate] = useState(\"\"); // getting checkout date\n  console.log(res);\n  const orderdetails = { // creating payment object to be send to server to create payment instance\n    product_name: \"Product1\",\n    orderamount: 5000,\n    receipt: \"\",\n    duepayment: 0,\n    checkindate: chkdate,\n    checkoutdate: coutdate,\n  };\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(actions.delete_paymnetdata());\n    console.log(res);\n  });\n  function prepay() { // using the function to check if checkin date is more than 7 days \n    if (checkin(chkdate)) { // and provide a option to only pay 30% upfront and 70% later\n      console.log(\"ok\");\n      return (\n        <span>\n          or\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => callRazer(true)}\n          >\n            pay amount {orderdetails.orderamount * 0.3}\n          </Button>\n        </span>\n      );\n    }\n  }\n  let history = useHistory();\n  async function callRazer(advancepay: boolean) {//calling function to load payment api in background start the paymnet process\n    //taking a boolean as parameter to check if user is paying 70% or 30%\n    if (LoadRazer()) { //loading script\n      if (advancepay) { // modifying orderdetails \n        orderdetails.duepayment = orderdetails.orderamount * 0.7;\n        orderdetails.orderamount = orderdetails.orderamount * 0.3;\n      }\n      if (res === null) { //checking user if no send to login screen\n        console.log(\"heee\");\n        history.push(\"/login\");\n        console.log(\"not pushed\");\n      } else { //if yess generate a receipt by calling a function\n        if (orderdetails.receipt === \"\") {\n          orderdetails.receipt = recieptgenerator(res);\n          console.log(orderdetails);\n        }// dispatching our orderdetails to server \n        dispatch(actions.get_payment(orderdetails));\n        console.log(\"here\");\n        history.push(\"/payment_page\");\n      }\n    }\n  }\n  function user() { // simple top button which either show user name or login link\n    if (res === null) return <span>login</span>;\n    else {\n      var redx = JSON.parse(JSON.stringify(res));\n      console.log(redx);\n      return <span>Hi {redx.username}</span>;\n    }\n  }\n  return (\n    <div>\n      Page1\n      <Alert severity=\"warning\">Payment</Alert>\n      <Button\n        variant=\"contained\"\n        color=\"secondary\"\n        onClick={() => history.push(\"/login\")}\n      >\n        {user()}\n      </Button>\n      <br />\n      <img src={homemini} alt=\"pg_img\"></img>\n      <br />\n      <label id=\"checkin\">Checkin Date</label>\n      <input //checkin date input \n        id=\"checkin\"\n        type=\"date\"\n        onChange={(e) => setchkdate(e.target.value)}\n      />\n      <br />\n      <label id=\"checkout\">Checkout Date</label>\n      <input //checkout date input\n        id=\"checkout\"\n        type=\"date\"\n        onChange={(e) => setcoutdate(e.target.value)}\n      />\n      <br />\n      Name : {orderdetails.product_name}&nbsp; <br />\n      Amount:Rs{orderdetails.orderamount}\n      <br />\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={() => callRazer(false)}\n      >\n        pay amount {orderdetails.orderamount}\n      </Button>\n      {prepay()}\n      <Checkuser></Checkuser>\n      <a href=\"/userpage\">USer</a>\n    </div>\n  );\n};\n\nexport default Page1;\n","export default \"data:image/jpeg;base64,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\"","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","\r\nimport { Button } from \"@material-ui/core\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport * as actions from \"../actions/\";\r\nimport logo from \"../logo.svg\";\r\nimport  Alert  from '@material-ui/lab/Alert';\r\nconst PaymentPage: React.FC = () => { // this page starts the payment where user fill paymnet details to checkout\r\n  const res = useSelector((state) => state);\r\n  const history = useHistory();\r\n  console.log(res)\r\n  let redx: any;\r\n  useEffect(() => {\r\n    redx = JSON.parse(JSON.stringify(res));\r\n    if (redx.payment_status!==null ) { // checking if there is a successfull callback of paymnet completion\r\n      if( redx.payment_status.msg === \"success\")\r\n    {  history.push(\"/payment_page/updateTransactions\");} //if yes move to next page \"Transaction Update\" to update database\r\n      else{\r\n        alert(\"paymnet failed.. Try again\");\r\n        history.push(\"/\") // try again (i have to make this code better ** bad error handling)\r\n      }\r\n    } else console.log(\"ooh come on\");\r\n  });\r\n\r\n  const dispatch = useDispatch();\r\n  function DisplayPayment() {//setting up paymnet script and loading it up  \r\n    if (redx.payment===null) {\r\n      alert(\"Offline\");\r\n    }\r\n    const options = { ///creating details to send to psp server\r\n      key: \"rzp_test_j9UI9PNWEZNmJN\",\r\n      amount: redx.payment.amount.toString(),\r\n      currency: redx.payment.currency,\r\n      name: redx.payment.product_name,\r\n      description: \"Test\",\r\n      image: { logo },\r\n      order_id: redx.payment.id,\r\n      handler: async function (response: any) { // communicationg with psp server and getting callback as response\r\n        const data = {\r\n          orderCreationId: redx.payment.id,\r\n          razorpayPaymentId: response.razorpay_payment_id,\r\n          razorpayOrderId: response.razorpay_order_id,\r\n          razorpaySignature: response.razorpay_signature,\r\n          amount: options.amount,\r\n          description: options.description,\r\n          date: new Date(),\r\n        };\r\n        dispatch(actions.payment_handler(data));//dispatching response to server to verify the payment \r\n      },\r\n\r\n      prefill: {\r\n        name: \"Suraj Kachhap\",\r\n        email: \"sja@as.com\",\r\n        contact: \"9999999999\",\r\n      },\r\n    };\r\n    const paymentObject = new (window as any).Razorpay(options); //opening the window for psp gateway\r\n    paymentObject.open();\r\n  }\r\n  function displaypaymentdetails() // displaing some info about order details\r\n  { const redx = JSON.parse(JSON.stringify(res));\r\n    if(redx.payment!==null)\r\n    return(<div>\r\n      <div>Product:{redx.payment.product_name}</div>\r\n      <div>Amount:{(redx.payment.amount/100).toString()}</div>\r\n      <div>OrderId: {redx.payment.id}</div>\r\n      </div>\r\n    )\r\n  }\r\n  return (\r\n    <div>\r\n      {displaypaymentdetails()}\r\n      <Alert severity=\"warning\">Amount will be deducted .You Sure</Alert>\r\n       <Button variant=\"contained\" color=\"primary\" onClick={DisplayPayment }>Confirm Order</Button>\r\n      Payment page\r\n    </div>\r\n  );\r\n};\r\nexport default PaymentPage;\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport * as actions from \"../actions/\";\r\nimport  Alert  from '@material-ui/lab/Alert';\r\nconst TransactionUpdate: React.FC = () =>{ // updaing the transaction and profile collection after successfull payment\r\n    const res = useSelector(state=>state);\r\n    const history = useHistory();\r\n    const dispatch = useDispatch()\r\n    \r\n    useEffect(()=>{\r\n        const redx = JSON.parse(JSON.stringify(res))\r\n        if(redx.transaction! && redx.transaction.msg===\"updated successfully\")//checking if update was succesfull and moving the product page\r\n        {   \r\n            history.push(\"/\");\r\n\r\n        }\r\n        else {\r\n            dispatch(actions.update_transaction(redx));\r\n        }\r\n    })\r\n    return(\r\n        <div>\r\n            <Alert>This is a success alert — check it out!</Alert>\r\n            Please be patience.......\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TransactionUpdate;","import React, { useEffect, useState } from \"react\";\r\nimport {FormGroup,FormControl, Input, InputLabel, Button, FormHelperText} from \"@material-ui/core\"\r\nimport { RootStateOrAny, useDispatch, useSelector } from \"react-redux\";\r\nimport * as actions from \"../actions/\"\r\nimport { useHistory } from \"react-router\";\r\nimport \"../style/login.css\"\r\nconst LoginPage:React.FC = () =>{ /// USed for login :: user might jump to this on performing actions which can be \r\n    //only be done by a authenticated user\r\n    console.log(\"---login pagge ---\")\r\n    const dispatch  = useDispatch()\r\n    const res = useSelector((state:RootStateOrAny)=>state)\r\n    const history = useHistory()\r\n    const [user,setuser] = useState(\"\");// storing onChange username\r\n    const [passrd,setpasswrd] = useState(\"\")//storing onChange password\r\n    const obj = { //object created to send to server\r\n        username: user,\r\n        password : passrd\r\n    }\r\n function checkuser() //check if user is loged in or not\r\n {      const redx =JSON.parse(JSON.stringify(res))\r\n        console.log(redx)\r\n        if(redx.user_info!==null)\r\n        history.push(\"/\")\r\n }\r\n  \r\nasync function submitLogin(userdetails:object) //dispatching object to backend to verify user\r\n{   const redx = JSON.parse(JSON.stringify(res))\r\n    console.log(\"form submit-->\")\r\n    dispatch(actions.user_fetch(userdetails))\r\n    if(redx!==null)\r\n    history.push(\"/\")\r\n}\r\nreturn(\r\n    <div>\r\n        <div className=\"loginblock\">\r\n            {checkuser()}\r\n        <form onSubmit={()=>submitLogin(obj)}> // login form\r\n        \r\n            <InputLabel htmlFor=\"username\">Username</InputLabel>\r\n        <input type=\"text\" name=\"username\" onChange={e=>setuser(e.target.value)}/>\r\n        <InputLabel htmlFor=\"password\">Password</InputLabel>\r\n        <input type=\"password\" name=\"password\" onChange={e=>setpasswrd(e.target.value)}/>\r\n        <Button type=\"submit\">Login</Button>\r\n       </form>\r\n        </div>\r\n       \r\n    </div>\r\n)\r\n}\r\n\r\nexport default LoginPage;","import React from 'react';\nimport logo from './logo.svg';\nimport{BrowserRouter,Route} from \"react-router-dom\";\nimport './App.css';\nimport Page1 from \"./components/Page1\"\nimport Paymentpage from \"./functional/PaymentPage\";\nimport Update_Transaction from \"./functional/TransactionUpdate\"\nimport {default as UserPage} from \"./components/Checkuser\"\nimport LoginPage from \"./components/LoginPage\"\nimport axios from \"axios\"\nconst App:React.FC=()=> {\n  ///all navigation routes are defines here\n  return(\n    <div>\n      <BrowserRouter>\n      <Route exact path=\"/login\" component={LoginPage}></Route>\n      <Route exact path=\"/userpage\" component={UserPage}></Route>\n      <Route exact path=\"/\" component={Page1}></Route>\n      <Route exact path=\"/payment_page\" component={Paymentpage}></Route>\n      <Route exact path=\"/payment_page/updateTransactions\" component={Update_Transaction}></Route>\n      </BrowserRouter>\n    </div>\n  )\n};\n   \n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const payReducer = (state=null, action)=>{\n    //console.log(action);\n    switch (action.type) {\n    case \"FETCH_ORDER\":\n      console.log(\"updating--payment\",action.payload)\n        return action.payload || null;\n      default:\n        return state;\n    }\n  }\n\n  export default payReducer;\n  //THis reducer recievers order instant created for psp server by our server","const payStatusReducer = (state=null, action)=>{\r\n    //console.log(action);\r\n    switch (action.type) {\r\n    case \"FETCH_SUCCESS_ORDER\":\r\n          return action.payload || null;    \r\n      default:\r\n        return state;\r\n    }\r\n  }\r\n\r\n  export default payStatusReducer;\r\n  //conatins message if order was successfull or not","const updateTransaction = (state=null, action)=>{\r\n    //console.log(action);\r\n    switch (action.type) {  \r\n    case \"UPDATE_TRANSACTION_DOCUMENT\":\r\n          return action.payload || null \r\n      default:\r\n        return state;\r\n    }\r\n  }\r\n\r\n  export default updateTransaction;\r\n  //information if the updation was successfull or not of the collection","const userInfo = (state=null, action)=>{\r\n    //console.log(action);\r\n    switch (action.type) {\r\n    case \"USER_INFO\":\r\n        console.log(\"updating\")\r\n        return action.payload || null;\r\n      default:\r\n        return state;\r\n    }\r\n  }\r\n\r\n  export default userInfo;\r\n  // stores all the user's information","import { combineReducers } from \"redux\";\nimport payReducer from \"./payReducer\";\nimport payStatusReducer from \"./payStatusReducer\";\nimport updateTransaction from \"./updateTransaction\";\nimport userInfo from \"./userInfo\";\nexport default combineReducers({\n  payment: payReducer,\n  transaction: updateTransaction,\n  payment_status: payStatusReducer,\n  user_info: userInfo,\n});\n\n// variables are combined in one state \n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { Provider } from \"react-redux\";\nimport { createStore, applyMiddleware, compose } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport reducers from \"./reducers/\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport axios from \"axios\";\nconst store = createStore( // all services are defined and acclimated this is the main page\n  reducers,\n  composeWithDevTools(applyMiddleware(thunk))\n);\nReactDOM.render(\n  <Provider store={store}> //using redux store in app to get the state variables \n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\nif (\"serviceWorker\" in navigator) {  // script to start the service worker\n  window.addEventListener(\"load\", function () {\n    navigator.serviceWorker.register(\"./serviceworker.tsx\").then(\n      function (registration) {\n        console.log(\n          \"Service Worker registered successfully with scope\",\n          registration.scope\n        );\n      },\n      function (error) {\n        console.log(\"ServiceWorker registrayon failed\", error);\n      }\n    );\n  });\n}\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}